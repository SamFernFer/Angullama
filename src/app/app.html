<head>
</head>
<body>
  <div class="header">
    <h1>Angullama</h1>
    <div>
      <button (click)="toggleSection(generalSection)" style="width: 32px; height: 32px; margin-right: 16px">
        <img [ngClass]="{ 'arrow-rotated': generalSection.isOpen }" src="arrow.svg">
      </button>
      <div style="display: inline-block">
        <h2>General</h2>
      </div>
    </div>
    @if(generalSection.isOpen) {
      <div class="general-section" style="display: grid; grid-template-columns: 20% 80%">
        <label>Server Address</label><input>
        <label>System Message</label><textarea></textarea>
        <label>Temperature</label><input>
        <label>Top K</label><input>
        <label>Top P</label><input>
        <label>Min P</label><input>
        <label>Max Tokens</label><input>
      </div>
    }
    <p>Send your</p>
    <p>message.</p>
    <div>
      <div class="message-input-parent">
        <textarea class="message-input" #msgInput rows="4" [formControl]="msgControl" (keydown.enter)="submitTextArea($event)" placeholder="Type in your message."></textarea>
      </div>
      <button class="submit-button" (click)="submit()">Send</button>
    </div>
  </div>
  @if(messageList.length > 0) {
    <div class="message-area">
      @for(message of messageList; track $index) {
        <div class="message">
          <div class="message-header">
            <div class="message-index">
              <code>{{message.id}}</code>
            </div>
            <div class="message-user">
              <code>User</code>
            </div>
            <div class="message-timestamp">
              <code>{{message.timestamp}}</code>
            </div>
          </div>
          <div class="message-string">
            <pre>{{message.msg}}</pre>
          </div>
          <div class="message-button-area">
            <div>
              <button class="message-button">
                <img src="pencil.svg">
              </button>
            </div>
            <div>
              <button class="message-button">
                <img src="copy.svg">
              </button>
            </div>
          </div>
        </div>
      }
    </div>
  }
</body>